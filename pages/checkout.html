<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Checkout – J SCENTIQUE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

<link rel="stylesheet" href="../assets/css/styles.css">
<link rel="stylesheet" href="../assets/css/responsive.css">


<style>
.checkout-page{
  padding:120px 8% 80px;
  max-width:1100px;
  margin:auto;
  color:#fff;
}
.checkout-title{
  font-size:36px;
  letter-spacing:3px;
  margin-bottom:40px;
}
.checkout-grid{
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:50px;
}
.checkout-box{
  background:#111;
  border:1px solid var(--border);
  padding:30px;
}

/* INPUTS & SELECTS */
input, select, textarea{
  width:100%;
  padding:14px;
  margin-bottom:16px;
  background:#0b0b0b;
  border:1px solid #333;
  color:#fff;
}
select option{
  background:#111;
  color:#fff;
}
textarea{
  resize:none;
  height:90px;
}
::placeholder{ color:#777; }

/* SECTION TITLES */
.section-title{
  font-size:14px;
  letter-spacing:2px;
  color:#ddd;
  margin:35px 0 15px;
}

/* CUSTOM RADIO */
.option{
  display:flex;
  align-items:flex-start;
  gap:14px;
  padding:14px;
  border:1px solid #333;
  margin-bottom:12px;
  cursor:pointer;
  transition:.3s;
}
.option:hover{ border-color:var(--primary); }
.option input{ display:none; }

.custom-radio{
  width:16px;
  height:16px;
  border:2px solid #888;
  border-radius:50%;
  position:relative;
  margin-top:2px;
}
.option input:checked + .custom-radio{
  border-color:var(--primary);
}
.option input:checked + .custom-radio::after{
  content:'';
  width:8px;
  height:8px;
  background:var(--primary);
  border-radius:50%;
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
}

.option-text{ font-size:13px; color:#fff; }
.option-sub{ font-size:11px; color:#aaa; margin-top:4px; }

/* ORDER SUMMARY */
.order-item{
  display:flex;
  gap:15px;
  padding-bottom:15px;
  margin-bottom:15px;
  border-bottom:1px solid #222;
}
.order-item img{
  width:90px;
  height:120px;
  object-fit:cover;
}
.order-item h4{ font-size:15px; }
.order-item p{ font-size:12px; color:#aaa; }

.total{
  font-size:18px;
  margin-top:20px;
  text-align:right;
}

/* BUTTON */
.place-order{
  width:100%;
  margin-top:30px;
  padding:16px;
  background:var(--primary);
  color:#000;
  border:none;
  letter-spacing:1px;
  cursor:pointer;
}



/* ======================================
   MOBILE – REAL CHECKOUT FLOW
====================================== */
@media (max-width: 768px) {

  /* SINGLE COLUMN */
  .checkout-grid{
    grid-template-columns: 1fr;
    gap: 28px;
  }

  /* PRODUCT SUMMARY FIRST */
  .checkout-grid > .checkout-box:nth-child(2){
    order: -1;
  }

  /* SHIPPING SECOND */
  .checkout-grid > .checkout-box:nth-child(1){
    order: 1;
  }

  .checkout-page{
    padding: 90px 5% 50px;
  }

  .checkout-title{
    font-size: 24px;
    text-align: center;
    margin-bottom: 25px;
  }

  /* ORDER SUMMARY MOBILE */
  .order-item{
    gap: 12px;
  }

  .order-item img{
    width: 70px;
    height: 95px;
  }

  .order-item h4{
    font-size: 14px;
  }

  .order-item p{
    font-size: 11px;
  }

  .total{
    font-size: 16px;
  }

  /* INPUTS TOUCH FRIENDLY */
  input, select, textarea{
    padding: 13px;
    font-size: 14px;
  }

  /* BUTTON */
  .place-order{
    padding: 15px;
    font-size: 14px;
  }
}

</style>
</head>

<body>

<section class="checkout-page">
<h1 class="checkout-title">Secure Checkout</h1>

<div class="checkout-grid">

<!-- LEFT -->
<div class="checkout-box">

  <div class="section-title">SHIPPING DETAILS</div>

  <input id="name" type="text" placeholder="Full Name">
  <input id="email" type="email" placeholder="Email Address">
  <input id="phone" type="text" placeholder="Phone Number">

  <select id="country">
    <option value="">Select Country</option>
    <option value="India">India</option>
  </select>

  <select id="state">
    <option value="">Select State</option>
    <option>Karnataka</option>
    <option>Tamil Nadu</option>
    <option>Kerala</option>
    <option>Telangana</option>
    <option>Maharashtra</option>
    <option>Delhi</option>
  </select>

  <input id="city" type="text" placeholder="City">
  <input id="pincode" type="text" placeholder="Pincode">
  <input id="building" type="text" placeholder="Building / Apartment / House No">
  <textarea id="address" placeholder="Street, Area, Landmark (optional)"></textarea>

  <div class="section-title">DELIVERY METHOD</div>

  <label class="option">
    <input type="radio" name="delivery" checked>
    <span class="custom-radio"></span>
    <div>
      <div class="option-text">Standard Delivery</div>
      <div class="option-sub">
        Delivered safely to your doorstep within 3–5 business days • Free
      </div>
    </div>
  </label>

  <div class="section-title">PAYMENT METHOD</div>

  <label class="option">
    <input type="radio" name="payment" value="COD" checked>
    <span class="custom-radio"></span>
    <div>
      <div class="option-text">Cash on Delivery</div>
      <div class="option-sub">Pay when your order is delivered</div>
    </div>
  </label>

  <label class="option">
    <input type="radio" name="payment" value="ONLINE">
    <span class="custom-radio"></span>
    <div>
      <div class="option-text">Online Payment</div>
      <div class="option-sub">UPI • Cards • Net Banking</div>
    </div>
  </label>

</div>

<!-- RIGHT -->
<div class="checkout-box">
  <div id="checkoutItems"></div>
  <div class="total" id="checkoutTotal"></div>
  <button class="place-order" onclick="placeOrder()">Place Order</button>
</div>

</div>
</section>





<script>
const checkoutItems = document.getElementById("checkoutItems");
const checkoutTotal = document.getElementById("checkoutTotal");

let items = [];
let total = 0;

/* ------------------------------
   LOAD ITEMS (BUY NOW or CART)
--------------------------------*/
const singleItem = JSON.parse(localStorage.getItem("checkoutItem"));

if (singleItem) {
  items = [singleItem];
  localStorage.removeItem("checkoutItem");
} else {
  items = JSON.parse(localStorage.getItem("cart")) || [];
}

if (items.length === 0) {
  checkoutItems.innerHTML = "<p style='color:#aaa'>Your cart is empty.</p>";
}

/* ------------------------------
   RENDER ORDER SUMMARY
--------------------------------*/
items.forEach(item => {
  total += item.price * item.qty;

  checkoutItems.innerHTML += `
    <div class="order-item">

      <img src="../${item.image}" alt="${item.name}">

      <div>
        <h4>${item.name}</h4>
        <p>${item.size || ""}</p>
        <p>Qty: ${item.qty}</p>
        <p>₹${item.price}</p>
      </div>
    </div>
  `;
});

checkoutTotal.innerText = `Total: ₹${total}`;

/* ------------------------------
   PLACE ORDER
--------------------------------*/
function placeOrder() {

  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const country = document.getElementById("country").value;
  const state = document.getElementById("state").value;
  const city = document.getElementById("city").value.trim();
  const pincode = document.getElementById("pincode").value.trim();
  const building = document.getElementById("building").value.trim();
  const address = document.getElementById("address").value.trim();

  const payment = document.querySelector(
    'input[name="payment"]:checked'
  ).value;

  /* ---- BASIC VALIDATION ---- */
  if (
    !name || !phone || !country || !state ||
    !city || !pincode || !building
  ) {
    alert("Please complete all required shipping details.");
    return;
  }

  /* ---- ONLINE PAYMENT PLACEHOLDER ---- */
  if (payment === "ONLINE") {
    alert("Online payment (Razorpay / Stripe) will be added next.");
    return;
  }

  /* ---- SAVE ORDER (FRONTEND ONLY) ---- */
  const orderData = {
    id: "JSC-" + Math.floor(10000 + Math.random() * 90000),
    customer: {
      name,
      email,
      phone,
      country,
      state,
      city,
      pincode,
      building,
      address
    },
    items,
    total,
    payment,
    date: new Date().toISOString()
  };

  localStorage.setItem("lastOrder", JSON.stringify(orderData));
  localStorage.removeItem("cart");

  /* ---- SUCCESS PAGE ---- */
  window.location.href = "../pages/order-success.html";
}
</script>


</body>
</html>
